import pkg from '../package.json'
import buble from 'rollup-plugin-buble'
import ractive from '@ractivejs/loader-rollup'

export default {
  plugins: [
    ractive(),
    buble({ transforms: { modules: false } })
  ],
  input: 'src/index.ractive.html',
  output: [
    { sourcemap: true, file: pkg.main, format: 'umd', name: 'Ractive.components.codemirror', globals: { 'CodeMirror': 'CodeMirror', '@ractivejs/core': 'Ractive' } },
    { sourcemap: true, file: pkg.module, format: 'es' }
  ],
  external: ['CodeMirror', '@ractivejs/core']
}
