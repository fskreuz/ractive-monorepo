import { toParts, toModule, replaceExtension } from '@ractivejs/utils-component'

export default function (content) {
  const srcName = this.resourcePath
  const destName = replaceExtension(this.resourcePath, '.js')
  const parts = toParts(content)
  const { code, map } = toModule({ srcName, destName, parts })
  this.callback(null, code, map)
}
