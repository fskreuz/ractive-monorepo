import pkg from '../package.json'
import buble from 'rollup-plugin-buble'
import ractive from '@ractivejs/loader-rollup'
import commonjs from 'rollup-plugin-commonjs'

export default {
  plugins: [
    ractive(),
    commonjs({ extensions: ['.html'] }),
    buble({ transforms: { modules: false } })
  ],
  input: 'src/index.ractive.html',
  output: [
    { sourcemap: true, file: pkg.main, format: 'umd', name: 'Ractive.components.ace', globals: { 'ace': 'ace', '@ractivejs/core': 'Ractive' } },
    { sourcemap: true, file: pkg.module, format: 'es' }
  ],
  external: ['ace', '@ractivejs/core']
}
